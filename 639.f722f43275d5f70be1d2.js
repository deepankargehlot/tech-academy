(self.webpackChunktech_academy=self.webpackChunktech_academy||[]).push([[639],{515:(t,e,n)=>{"use strict";n.r(e),n.d(e,{HomeModule:()=>m});var s=n(583),r=n(901),a=n(639),i=n(903);function o(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",4),a.NdJ("click",function(){const e=a.CHM(t).$implicit;return a.oxw().toggleCategory(e)}),a._uU(1),a.qZA()}if(2&t){const t=e.$implicit,n=a.oxw();a.Q6J("ngClass",n.selecetdCategories.includes(t)?"selected":""),a.xp6(1),a.hij(" ",t," ")}}let c=(()=>{class t{constructor(t){this.service=t,this.categories=["Baked","Sweet","Hot Dish","Fast food","Salads"],this.selecetdCategories=[]}ngOnInit(){}toggleCategory(t){this.selecetdCategories.includes(t)?this.selecetdCategories.splice(this.selecetdCategories.indexOf(t),1):this.selecetdCategories.push(t),0===this.selecetdCategories.length||this.selecetdCategories.includes("All")?this.service.setselectedCategories([...this.categories]):this.service.setselectedCategories(this.selecetdCategories)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(i.P))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-category"]],decls:5,vars:1,consts:[[1,"category"],[1,"title"],[1,"body","d-flex","flex-wrap","flex-row"],["class","category-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"category-item",3,"ngClass","click"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a._uU(2," Category "),a.qZA(),a.TgZ(3,"div",2),a.YNc(4,o,2,2,"div",3),a.qZA(),a.qZA()),2&t&&(a.xp6(4),a.Q6J("ngForOf",e.categories))},directives:[s.sg,s.mk],styles:[".category[_ngcontent-%COMP%]{padding-top:50px}.category[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Open Sans;font-style:normal;font-weight:700;font-size:24px;line-height:32px;color:#182135}.category[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{margin-top:16px}.category[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{background:#f7f7f7;border-radius:6px;font-family:Open Sans;font-style:normal;font-weight:400;font-size:16px;line-height:24px;text-align:center;color:#626264;min-width:75px;padding:12px 8px;margin:8px;cursor:pointer}.category[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background:#fb6d3a1a;color:#fb6d3a}"]}),t})(),l=(()=>{class t{constructor(){this.restaurant=null}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-restaurant-tile"]],inputs:{restaurant:"restaurant"},decls:10,vars:5,consts:[[1,"d-flex","flex-column","restaurant"],[1,"img"],["width","100%","height","100%",3,"src"],[1,"d-flex","flex-row","justify-content-between","info"],[1,"title"],[1,"status",3,"ngClass"],[1,"description"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a._UZ(2,"img",2),a.qZA(),a.TgZ(3,"div",3),a.TgZ(4,"div",4),a._uU(5),a.qZA(),a.TgZ(6,"div",5),a._uU(7),a.qZA(),a.qZA(),a.TgZ(8,"div",6),a._uU(9),a.qZA(),a.qZA()),2&t&&(a.xp6(2),a.Q6J("src",e.restaurant.restaurantImage,a.LSH),a.xp6(3),a.hij(" ",e.restaurant.restaurantName," "),a.xp6(1),a.Q6J("ngClass",e.restaurant.isOpen?"open":"close"),a.xp6(1),a.hij(" ",e.restaurant.isOpen?"Open Now":"Closed"," "),a.xp6(2),a.hij(" ",e.restaurant.restaurantDescription," "))},directives:[s.mk],styles:['.restaurant[_ngcontent-%COMP%]{width:100%}.restaurant[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{height:175px;border-radius:16px;overflow:hidden}.restaurant[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-top:1em}.restaurant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;font-size:16px;line-height:24px;color:#182135}.restaurant[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%], .restaurant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Open Sans;font-style:normal}.restaurant[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{flex-direction:row;align-items:center;padding:4px 8px;border-radius:4px;font-weight:600;font-size:11px;line-height:16px}.restaurant[_ngcontent-%COMP%]   .open[_ngcontent-%COMP%]{color:#503e9d;background-color:#503e9d1a}.restaurant[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{color:#fb6d3a;background:#fb6d3a1a}.restaurant[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-top:1em;font-family:Open Sans;font-style:normal;font-weight:400;overflow:hidden;position:relative;font-size:12px;line-height:18px;max-height:54px;color:#000}.description[_ngcontent-%COMP%]:before{position:absolute;content:"...";inset-block-end:0;inset-inline-end:0}.description[_ngcontent-%COMP%]:after{content:"";position:absolute;inset-inline-end:0;width:1rem;height:1rem;background:#fff}']}),t})();function u(t,e){if(1&t&&(a.TgZ(0,"div",5),a._UZ(1,"app-restaurant-tile",6),a.qZA()),2&t){const t=e.$implicit;a.Q6J("routerLink","restaurant/"+t.id),a.xp6(1),a.Q6J("restaurant",t)}}function g(t,e){1&t&&(a.TgZ(0,"div"),a._uU(1," No Restaurants found for the filters applied, try something else "),a.qZA())}let p=(()=>{class t{constructor(t){this.service=t,this.restaurants={allRestaurants:[]},this.allRestaurants={allRestaurants:[]},this.subscriptions=[]}ngOnInit(){this.getAllRestaurants(),this.filterRestaurntsByCuisine(),this.filterRestaurntsByCategories(),this.sortRestaurants()}getAllRestaurants(){this.service.getAllRestaurants().subscribe({next:t=>{this.restaurants=t,this.allRestaurants={allRestaurants:[...this.restaurants.allRestaurants]},this.restaurants.allRestaurants.map(t=>{t.restaurantCategoryArrayForm=JSON.parse(t.restaurantCategory),t.restaurantCuisineArrayForm=JSON.parse(t.restaurantCuisine)}),console.log("ss",this.restaurants)},error:t=>{console.log(t)},complete:()=>{console.log("complete")}})}filterRestaurntsByCuisine(){this.subscriptions.push(this.service.getSelectedCuisine().subscribe(t=>{this.restaurants={allRestaurants:this.allRestaurants.allRestaurants.filter(e=>e.restaurantCuisineArrayForm.some(e=>t.includes(e)))}}))}filterRestaurntsByCategories(){this.subscriptions.push(this.service.getSelectedcategories().subscribe(t=>{this.restaurants={allRestaurants:this.allRestaurants.allRestaurants.filter(e=>e.restaurantCategoryArrayForm.some(e=>t.includes(e)))}}))}sortRestaurants(){this.subscriptions.push(this.service.getSelectedSort().subscribe(t=>{this.restaurants=null===t?{allRestaurants:this.allRestaurants.allRestaurants}:{allRestaurants:this.allRestaurants.allRestaurants.sort((t,e)=>t.isOpen===e.isOpen?0:t.isOpen?-1:1)}}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(i.P))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-restaurants"]],decls:6,vars:2,consts:[[1,"d-flex","flex-column","restaurant-list"],[1,"title"],[1,"d-flex","flex-wrap","flex-row",2,"width","100%"],["class","res",3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"res",3,"routerLink"],[3,"restaurant"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a._uU(2," Restaurants "),a.qZA(),a.TgZ(3,"div",2),a.YNc(4,u,2,2,"div",3),a.YNc(5,g,2,0,"div",4),a.qZA(),a.qZA()),2&t&&(a.xp6(4),a.Q6J("ngForOf",e.restaurants.allRestaurants),a.xp6(1),a.Q6J("ngIf",0===e.restaurants.allRestaurants.length))},directives:[s.sg,s.O5,r.rH,l],styles:[".res[_ngcontent-%COMP%]{min-width:300px;max-width:30%;margin:16px}.restaurant-list[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Open Sans;font-style:normal;font-weight:700;font-size:24px;line-height:32px;color:#182135}"]}),t})();const d=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-home"]],decls:5,vars:0,consts:[[2,"margin-top","32px"]],template:function(t,e){1&t&&(a.TgZ(0,"div"),a.TgZ(1,"div"),a._UZ(2,"app-category"),a.qZA(),a.TgZ(3,"div",0),a._UZ(4,"app-restaurants"),a.qZA(),a.qZA())},directives:[c,p],styles:[""]}),t})()}];let f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[r.Bz.forChild(d)],r.Bz]}),t})();var h=n(466);let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[s.ez,h.m,r.Bz,f]]}),t})()}}]);